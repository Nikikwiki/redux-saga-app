{"ast":null,"code":"import { takeEvery, put, call, fork, all, race, spawn, takeLatest, delay } from \"@redux-saga/core/effects\";\nimport { SET_LATEST_NEWS_ERROR, SET_POPULAR_NEWS_ERROR, GET_LATEST_NEWS, GET_POPULAR_NEWS, SET_LOADING_DATA } from \"../constants\";\nimport { setLatestNews, setPopularNews } from \"../actions/actionCreator\";\nimport { getLatestNews, getPopularNews } from \"../../api\";\nexport function* handlePopularNews() {\n  yield put({\n    type: SET_LOADING_DATA,\n    payload: true\n  });\n\n  try {\n    const {\n      hits\n    } = yield call(getPopularNews);\n    yield put(setPopularNews(hits));\n  } catch {\n    yield put({\n      type: SET_POPULAR_NEWS_ERROR,\n      payload: 'Error fetch popular'\n    });\n  }\n\n  yield put({\n    type: SET_LOADING_DATA,\n    payload: false\n  });\n}\nexport function* handleLatestNews() {\n  yield put({\n    type: SET_LOADING_DATA,\n    payload: true\n  });\n\n  try {\n    const {\n      hits\n    } = yield call(getLatestNews, 'react');\n    yield put(setLatestNews(hits));\n  } catch {\n    yield put({\n      type: SET_LATEST_NEWS_ERROR,\n      payload: 'Error fetch latest'\n    });\n  }\n\n  yield put({\n    type: SET_LOADING_DATA,\n    payload: false\n  });\n}\nexport function* watchPopularSaga() {\n  yield takeLatest(GET_POPULAR_NEWS, handlePopularNews);\n}\nexport function* watchLatestSaga() {\n  yield takeLatest(GET_LATEST_NEWS, handleLatestNews);\n}\nexport default function* rootSaga() {\n  yield all([fork(watchPopularSaga), fork(watchLatestSaga)]);\n}","map":{"version":3,"sources":["C:/Users/Nik/Desktop/School/redux-saga/src/redux/sagas/index.js"],"names":["takeEvery","put","call","fork","all","race","spawn","takeLatest","delay","SET_LATEST_NEWS_ERROR","SET_POPULAR_NEWS_ERROR","GET_LATEST_NEWS","GET_POPULAR_NEWS","SET_LOADING_DATA","setLatestNews","setPopularNews","getLatestNews","getPopularNews","handlePopularNews","type","payload","hits","handleLatestNews","watchPopularSaga","watchLatestSaga","rootSaga"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+BC,IAA/B,EAAqCC,GAArC,EAA0CC,IAA1C,EAAgDC,KAAhD,EAAuDC,UAAvD,EAAmEC,KAAnE,QAAgF,0BAAhF;AACA,SAASC,qBAAT,EAAgCC,sBAAhC,EAAwDC,eAAxD,EAAyEC,gBAAzE,EAA2FC,gBAA3F,QAAmH,cAAnH;AACA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,0BAA9C;AACA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,WAA9C;AAEA,OAAO,UAAUC,iBAAV,GAA8B;AACjC,QAAMjB,GAAG,CAAC;AAACkB,IAAAA,IAAI,EAAEN,gBAAP;AAAyBO,IAAAA,OAAO,EAAE;AAAlC,GAAD,CAAT;;AACA,MAAI;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMnB,IAAI,CAACe,cAAD,CAA3B;AACA,UAAMhB,GAAG,CAACc,cAAc,CAACM,IAAD,CAAf,CAAT;AACH,GAHD,CAGE,MAAM;AACJ,UAAMpB,GAAG,CAAC;AAACkB,MAAAA,IAAI,EAAET,sBAAP;AAA+BU,MAAAA,OAAO,EAAE;AAAxC,KAAD,CAAT;AACH;;AACD,QAAMnB,GAAG,CAAC;AAACkB,IAAAA,IAAI,EAAEN,gBAAP;AAAyBO,IAAAA,OAAO,EAAE;AAAlC,GAAD,CAAT;AACH;AAED,OAAO,UAAUE,gBAAV,GAA6B;AAChC,QAAMrB,GAAG,CAAC;AAACkB,IAAAA,IAAI,EAAEN,gBAAP;AAAyBO,IAAAA,OAAO,EAAE;AAAlC,GAAD,CAAT;;AACA,MAAI;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMnB,IAAI,CAACc,aAAD,EAAgB,OAAhB,CAA3B;AACA,UAAMf,GAAG,CAACa,aAAa,CAACO,IAAD,CAAd,CAAT;AACH,GAHD,CAGE,MAAM;AACJ,UAAMpB,GAAG,CAAC;AAACkB,MAAAA,IAAI,EAAEV,qBAAP;AAA8BW,MAAAA,OAAO,EAAE;AAAvC,KAAD,CAAT;AACH;;AACD,QAAMnB,GAAG,CAAC;AAACkB,IAAAA,IAAI,EAAEN,gBAAP;AAAyBO,IAAAA,OAAO,EAAE;AAAlC,GAAD,CAAT;AACH;AAED,OAAO,UAAUG,gBAAV,GAA6B;AAChC,QAAMhB,UAAU,CAACK,gBAAD,EAAmBM,iBAAnB,CAAhB;AACH;AAED,OAAO,UAAUM,eAAV,GAA4B;AAC/B,QAAMjB,UAAU,CAACI,eAAD,EAAkBW,gBAAlB,CAAhB;AACH;AAED,eAAe,UAAUG,QAAV,GAAqB;AAChC,QAAMrB,GAAG,CAAC,CACND,IAAI,CAACoB,gBAAD,CADE,EAENpB,IAAI,CAACqB,eAAD,CAFE,CAAD,CAAT;AAIH","sourcesContent":["import { takeEvery, put, call, fork, all, race, spawn, takeLatest, delay } from \"@redux-saga/core/effects\"; \r\nimport { SET_LATEST_NEWS_ERROR, SET_POPULAR_NEWS_ERROR, GET_LATEST_NEWS, GET_POPULAR_NEWS, SET_LOADING_DATA } from \"../constants\";\r\nimport { setLatestNews, setPopularNews } from \"../actions/actionCreator\";\r\nimport { getLatestNews, getPopularNews } from \"../../api\";\r\n\r\nexport function* handlePopularNews() {\r\n    yield put({type: SET_LOADING_DATA, payload: true });\r\n    try {\r\n        const { hits } = yield call(getPopularNews);\r\n        yield put(setPopularNews(hits));\r\n    } catch {\r\n        yield put({type: SET_POPULAR_NEWS_ERROR, payload: 'Error fetch popular'})\r\n    }\r\n    yield put({type: SET_LOADING_DATA, payload: false });\r\n}\r\n\r\nexport function* handleLatestNews() {\r\n    yield put({type: SET_LOADING_DATA, payload: true });\r\n    try {\r\n        const { hits } = yield call(getLatestNews, 'react');\r\n        yield put(setLatestNews(hits));\r\n    } catch {\r\n        yield put({type: SET_LATEST_NEWS_ERROR, payload: 'Error fetch latest'})\r\n    }\r\n    yield put({type: SET_LOADING_DATA, payload: false });\r\n}\r\n\r\nexport function* watchPopularSaga() {\r\n    yield takeLatest(GET_POPULAR_NEWS, handlePopularNews);\r\n}\r\n\r\nexport function* watchLatestSaga() {\r\n    yield takeLatest(GET_LATEST_NEWS, handleLatestNews);\r\n}\r\n\r\nexport default function* rootSaga() {\r\n    yield all([\r\n        fork(watchPopularSaga),\r\n        fork(watchLatestSaga)\r\n    ])\r\n}"]},"metadata":{},"sourceType":"module"}