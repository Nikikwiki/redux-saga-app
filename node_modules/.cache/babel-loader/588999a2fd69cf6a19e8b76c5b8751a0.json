{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Nik\\\\Desktop\\\\School\\\\redux-saga\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(handlePopularNews),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(handleLatestNews),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(watchPopularSaga),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(watchLatestSaga),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(rootSaga);import{takeEvery,put,call,fork,all,race,spawn,takeLatest}from\"@redux-saga/core/effects\";import{SET_LATEST_NEWS_ERROR,SET_POPULAR_NEWS_ERROR,GET_LATEST_NEWS,GET_POPULAR_NEWS,SET_LOADING_DATA}from\"../constants\";import{setLatestNews,setPopularNews}from\"../actions/actionCreator\";import{getLatestNews,getPopularNews}from\"../../api\";export function handlePopularNews(){var _yield$call,hits;return _regeneratorRuntime.wrap(function handlePopularNews$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return put({type:SET_LOADING_DATA,payload:true});case 2:_context.prev=2;_context.next=5;return call(getPopularNews);case 5:_yield$call=_context.sent;hits=_yield$call.hits;_context.next=9;return put(setPopularNews(hits));case 9:_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);_context.next=15;return put({type:SET_POPULAR_NEWS_ERROR,payload:'Error fetch popular'});case 15:_context.next=17;return put({type:SET_LOADING_DATA,payload:false});case 17:case\"end\":return _context.stop();}}},_marked,null,[[2,11]]);}export function handleLatestNews(){var _yield$call2,hits;return _regeneratorRuntime.wrap(function handleLatestNews$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return put({type:SET_LOADING_DATA,payload:true});case 2:_context2.prev=2;_context2.next=5;return call(getLatestNews,'react');case 5:_yield$call2=_context2.sent;hits=_yield$call2.hits;_context2.next=9;return put(setLatestNews(hits));case 9:_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](2);_context2.next=15;return put({type:SET_LATEST_NEWS_ERROR,payload:'Error fetch latest'});case 15:_context2.next=17;return put({type:SET_LOADING_DATA,payload:false});case 17:case\"end\":return _context2.stop();}}},_marked2,null,[[2,11]]);}export function watchPopularSaga(){return _regeneratorRuntime.wrap(function watchPopularSaga$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return takeLatest(GET_POPULAR_NEWS,handlePopularNews);case 2:case\"end\":return _context3.stop();}}},_marked3);}export function watchLatestSaga(){return _regeneratorRuntime.wrap(function watchLatestSaga$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return takeLatest(GET_LATEST_NEWS,handleLatestNews);case 2:case\"end\":return _context4.stop();}}},_marked4);}export default function rootSaga(){return _regeneratorRuntime.wrap(function rootSaga$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return all([fork(watchPopularSaga),fork(watchLatestSaga)]);case 2:case\"end\":return _context5.stop();}}},_marked5);}","map":{"version":3,"sources":["C:/Users/Nik/Desktop/School/redux-saga/src/redux/sagas/index.js"],"names":["handlePopularNews","handleLatestNews","watchPopularSaga","watchLatestSaga","rootSaga","takeEvery","put","call","fork","all","race","spawn","takeLatest","SET_LATEST_NEWS_ERROR","SET_POPULAR_NEWS_ERROR","GET_LATEST_NEWS","GET_POPULAR_NEWS","SET_LOADING_DATA","setLatestNews","setPopularNews","getLatestNews","getPopularNews","type","payload","hits"],"mappings":"qLAKiBA,iB,iDAWAC,gB,iDAWAC,gB,iDAIAC,e,iDAIQC,Q,EAnCzB,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,IAAzB,CAA+BC,IAA/B,CAAqCC,GAArC,CAA0CC,IAA1C,CAAgDC,KAAhD,CAAuDC,UAAvD,KAAyE,0BAAzE,CACA,OAASC,qBAAT,CAAgCC,sBAAhC,CAAwDC,eAAxD,CAAyEC,gBAAzE,CAA2FC,gBAA3F,KAAmH,cAAnH,CACA,OAASC,aAAT,CAAwBC,cAAxB,KAA8C,0BAA9C,CACA,OAASC,aAAT,CAAwBC,cAAxB,KAA8C,WAA9C,CAEA,MAAO,SAAUrB,CAAAA,iBAAV,kKACH,MAAMM,CAAAA,GAAG,CAAC,CAACgB,IAAI,CAAEL,gBAAP,CAAyBM,OAAO,CAAE,IAAlC,CAAD,CAAT,CADG,uCAGkB,MAAMhB,CAAAA,IAAI,CAACc,cAAD,CAAV,CAHlB,iCAGSG,IAHT,aAGSA,IAHT,iBAIC,MAAMlB,CAAAA,GAAG,CAACa,cAAc,CAACK,IAAD,CAAf,CAAT,CAJD,yGAMC,MAAMlB,CAAAA,GAAG,CAAC,CAACgB,IAAI,CAAER,sBAAP,CAA+BS,OAAO,CAAE,qBAAxC,CAAD,CAAT,CAND,yBAQH,MAAMjB,CAAAA,GAAG,CAAC,CAACgB,IAAI,CAAEL,gBAAP,CAAyBM,OAAO,CAAE,KAAlC,CAAD,CAAT,CARG,qEAWP,MAAO,SAAUtB,CAAAA,gBAAV,sKACH,MAAMK,CAAAA,GAAG,CAAC,CAACgB,IAAI,CAAEL,gBAAP,CAAyBM,OAAO,CAAE,IAAlC,CAAD,CAAT,CADG,yCAGkB,MAAMhB,CAAAA,IAAI,CAACa,aAAD,CAAgB,OAAhB,CAAV,CAHlB,mCAGSI,IAHT,cAGSA,IAHT,kBAIC,MAAMlB,CAAAA,GAAG,CAACY,aAAa,CAACM,IAAD,CAAd,CAAT,CAJD,8GAMC,MAAMlB,CAAAA,GAAG,CAAC,CAACgB,IAAI,CAAET,qBAAP,CAA8BU,OAAO,CAAE,oBAAvC,CAAD,CAAT,CAND,0BAQH,MAAMjB,CAAAA,GAAG,CAAC,CAACgB,IAAI,CAAEL,gBAAP,CAAyBM,OAAO,CAAE,KAAlC,CAAD,CAAT,CARG,uEAWP,MAAO,SAAUrB,CAAAA,gBAAV,gJACH,MAAMU,CAAAA,UAAU,CAACI,gBAAD,CAAmBhB,iBAAnB,CAAhB,CADG,wDAIP,MAAO,SAAUG,CAAAA,eAAV,+IACH,MAAMS,CAAAA,UAAU,CAACG,eAAD,CAAkBd,gBAAlB,CAAhB,CADG,wDAIP,cAAe,SAAUG,CAAAA,QAAV,wIACX,MAAMK,CAAAA,GAAG,CAAC,CACND,IAAI,CAACN,gBAAD,CADE,CAENM,IAAI,CAACL,eAAD,CAFE,CAAD,CAAT,CADW","sourcesContent":["import { takeEvery, put, call, fork, all, race, spawn, takeLatest } from \"@redux-saga/core/effects\"; \r\nimport { SET_LATEST_NEWS_ERROR, SET_POPULAR_NEWS_ERROR, GET_LATEST_NEWS, GET_POPULAR_NEWS, SET_LOADING_DATA } from \"../constants\";\r\nimport { setLatestNews, setPopularNews } from \"../actions/actionCreator\";\r\nimport { getLatestNews, getPopularNews } from \"../../api\";\r\n\r\nexport function* handlePopularNews() {\r\n    yield put({type: SET_LOADING_DATA, payload: true });\r\n    try {\r\n        const { hits } = yield call(getPopularNews);\r\n        yield put(setPopularNews(hits));\r\n    } catch {\r\n        yield put({type: SET_POPULAR_NEWS_ERROR, payload: 'Error fetch popular'})\r\n    }\r\n    yield put({type: SET_LOADING_DATA, payload: false });\r\n}\r\n\r\nexport function* handleLatestNews() {\r\n    yield put({type: SET_LOADING_DATA, payload: true });\r\n    try {\r\n        const { hits } = yield call(getLatestNews, 'react');\r\n        yield put(setLatestNews(hits));\r\n    } catch {\r\n        yield put({type: SET_LATEST_NEWS_ERROR, payload: 'Error fetch latest'})\r\n    }\r\n    yield put({type: SET_LOADING_DATA, payload: false });\r\n}\r\n\r\nexport function* watchPopularSaga() {\r\n    yield takeLatest(GET_POPULAR_NEWS, handlePopularNews);\r\n}\r\n\r\nexport function* watchLatestSaga() {\r\n    yield takeLatest(GET_LATEST_NEWS, handleLatestNews);\r\n}\r\n\r\nexport default function* rootSaga() {\r\n    yield all([\r\n        fork(watchPopularSaga),\r\n        fork(watchLatestSaga)\r\n    ])\r\n}"]},"metadata":{},"sourceType":"module"}