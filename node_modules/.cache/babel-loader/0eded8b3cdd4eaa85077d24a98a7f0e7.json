{"ast":null,"code":"import { takeEvery, put, call, fork, all, race, spawn } from \"@redux-saga/core/effects\";\nimport { GET_NEWS, SET_LATEST_NEWS_ERROR, SET_POPULAR_NEWS_ERROR } from \"../constants\";\nimport { setLatestNews, setPopularNews } from \"../actions/actionCreator\";\nimport { getLatestNews, getPopularNews } from \"../../api\";\nexport function* handlePopularNews() {\n  const {\n    hits\n  } = yield call(getPopularNews);\n  yield put(setPopularNews(hits));\n}\nexport function* handleLatestNews() {\n  try {\n    const {\n      hits\n    } = yield call(getLatestNews, 'react');\n    yield put(setLatestNews(hits));\n  } catch {\n    yield put({\n      type: SET_LATEST_NEWS_ERROR,\n      payload: 'Error fetch latest'\n    });\n  }\n}\nexport function* handleNews() {\n  yield spawn(handleLatestNews);\n  yield spawn(handlePopularNews);\n}\nexport function* watchClickSaga() {\n  yield takeEvery(GET_NEWS, handleNews);\n}\nexport default function* rootSaga() {\n  yield watchClickSaga();\n}","map":{"version":3,"sources":["C:/Users/Nik/Desktop/School/redux-saga/src/redux/sagas/index.js"],"names":["takeEvery","put","call","fork","all","race","spawn","GET_NEWS","SET_LATEST_NEWS_ERROR","SET_POPULAR_NEWS_ERROR","setLatestNews","setPopularNews","getLatestNews","getPopularNews","handlePopularNews","hits","handleLatestNews","type","payload","handleNews","watchClickSaga","rootSaga"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+BC,IAA/B,EAAqCC,GAArC,EAA0CC,IAA1C,EAAgDC,KAAhD,QAA6D,0BAA7D;AACA,SAASC,QAAT,EAAmBC,qBAAnB,EAA0CC,sBAA1C,QAAwE,cAAxE;AACA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,0BAA9C;AACA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,WAA9C;AAEA,OAAO,UAAUC,iBAAV,GAA8B;AACjC,QAAM;AAAEC,IAAAA;AAAF,MAAW,MAAMb,IAAI,CAACW,cAAD,CAA3B;AACA,QAAMZ,GAAG,CAACU,cAAc,CAACI,IAAD,CAAf,CAAT;AACH;AAED,OAAO,UAAUC,gBAAV,GAA6B;AAChC,MAAI;AACA,UAAM;AAAED,MAAAA;AAAF,QAAW,MAAMb,IAAI,CAACU,aAAD,EAAgB,OAAhB,CAA3B;AACA,UAAMX,GAAG,CAACS,aAAa,CAACK,IAAD,CAAd,CAAT;AACH,GAHD,CAGE,MAAM;AACJ,UAAMd,GAAG,CAAC;AAACgB,MAAAA,IAAI,EAAET,qBAAP;AAA8BU,MAAAA,OAAO,EAAE;AAAvC,KAAD,CAAT;AACH;AACJ;AAED,OAAO,UAAUC,UAAV,GAAuB;AAC1B,QAAMb,KAAK,CAACU,gBAAD,CAAX;AACA,QAAMV,KAAK,CAACQ,iBAAD,CAAX;AACH;AAED,OAAO,UAAUM,cAAV,GAA2B;AAC9B,QAAMpB,SAAS,CAACO,QAAD,EAAWY,UAAX,CAAf;AACH;AAGD,eAAe,UAAUE,QAAV,GAAqB;AAChC,QAAMD,cAAc,EAApB;AACH","sourcesContent":["import { takeEvery, put, call, fork, all, race, spawn } from \"@redux-saga/core/effects\"; \r\nimport { GET_NEWS, SET_LATEST_NEWS_ERROR, SET_POPULAR_NEWS_ERROR } from \"../constants\";\r\nimport { setLatestNews, setPopularNews } from \"../actions/actionCreator\";\r\nimport { getLatestNews, getPopularNews } from \"../../api\";\r\n\r\nexport function* handlePopularNews() {\r\n    const { hits } = yield call(getPopularNews);\r\n    yield put(setPopularNews(hits));\r\n}\r\n\r\nexport function* handleLatestNews() {\r\n    try {\r\n        const { hits } = yield call(getLatestNews, 'react');\r\n        yield put(setLatestNews(hits));\r\n    } catch {\r\n        yield put({type: SET_LATEST_NEWS_ERROR, payload: 'Error fetch latest'})\r\n    }\r\n}\r\n\r\nexport function* handleNews() {\r\n    yield spawn(handleLatestNews);\r\n    yield spawn(handlePopularNews);\r\n}\r\n\r\nexport function* watchClickSaga() {\r\n    yield takeEvery(GET_NEWS, handleNews);\r\n}\r\n\r\n\r\nexport default function* rootSaga() {\r\n    yield watchClickSaga();\r\n}"]},"metadata":{},"sourceType":"module"}